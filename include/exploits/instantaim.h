#pragma once
#include <exploit.h>
#include <cache.h>
#include <config.h>

class InstantAim : public Exploit<AItem_Gun_General*, float> {
public:
	InstantAim() : Exploit<AItem_Gun_General*, float>("Instant Aim") { };

	void* get_object_ptr() {
		return cache::LocalCurrentWeapon;
	}

	void read_data(float* buffer)
	{
		*buffer = cache::LocalCurrentWeapon->get_air_down_time_multiplier();
	}

	float get_write_data() override {
		return 1000.f;
	}

	void write(AItem_Gun_General* object, float data) override  {
		object->set_air_down_time_multiplier(data);
	}

	bool* get_enabled_ptr() override {
		return &config::config->data()->instant_aim;
	}
};